<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservación de Restaurante</title>
    <link rel="icon" type="image/x-icon" href="logo/favicon.ico">
    <link rel="stylesheet" href="style/style.css"> <!-- CSS general -->
    <link rel="stylesheet" href="style/reservas.css"> <!-- CSS exclusivo para reservas -->
</head>
<body>
    <!-- Barra de navegación lateral -->
    <aside class="sidebar">
        <div class="logo-container">
            <img src="logo/logo.png" alt="Logo del Restaurante" class="logo">
            <h2>El Nopalito</h2>
        </div>
        <nav>
            <ul>
                <li><a href="inicio.html">Inicio</a></li>
                <li><a href="index.html">Reservar</a></li>
                <li><a href="menu.html">Menú</a></li>
                <li><a href="quienes-somos.html">Quiénes Somos</a></li>
                <li><a href="contacto.html">Contacto</a></li>
            </ul>
        </nav>
    </aside>

    <!-- Contenido Principal -->
    <main class="main-content">
        <header>
            <h1>Reserva tu mesa en nuestro restaurante</h1>
        </header>
        
        <section class="reservation-form">
            <h2>Haz tu reservación</h2>
            <form id="form-reservacion" action="reservar.php" method="POST">
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" required>
                <span class="error" id="error-nombre"></span>

                <label for="email">Correo Electrónico:</label>
                <input type="email" id="email" name="email" required>
                <span class="error" id="error-email"></span>

                <label for="telefono">Teléfono:</label>
                <input type="tel" id="telefono" name="telefono" maxlength="10" required>
                <span class="error" id="error-telefono"></span>

                <label for="fecha">Fecha:</label>
                <input type="date" id="fecha" name="fecha" required>

                <label for="hora">Hora:</label>
                <input type="time" id="hora" name="hora" required>

                <label for="personas">Número de personas:</label>
                <input type="text" id="personas" name="personas" min="1" max="10" required>
                <span class="error" id="error-personas"></span>

                <label for="comentarios">Comentarios:</label>
                <textarea id="comentarios" name="comentarios" rows="4"></textarea>

                <button type="submit">Reservar Ahora</button>
            </form>
        </section>
    </main>

    <script>
        // Validación en tiempo real para el campo "Nombre"
        const nombreInput = document.getElementById('nombre');
        const errorNombre = document.getElementById('error-nombre');

        nombreInput.addEventListener('input', function() {
        // Expresión regular para validar que no haya números ni caracteres de puntuación
        const nombreRegex = /^[a-zA-Z\sáéíóúÁÉÍÓÚñÑ]+$/;

        if (!nombreRegex.test(nombreInput.value)) {
            errorNombre.textContent = 'El nombre no debe contener números ni caracteres de puntuación.';
        } else {
            errorNombre.textContent = '';
        }
        });

        // Validación en tiempo real para el campo "Correo Electrónico"
        const emailInput = document.getElementById('email');
        const errorEmail = document.getElementById('error-email');

        emailInput.addEventListener('input', function() {
        const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.(com|hotmail|[a-zA-Z]{2,})$/;
        if (!emailRegex.test(emailInput.value)) {
            errorEmail.textContent = 'Ingresa un correo válido con un dominio (.com, .hotmail, etc.)';
        } else {
            errorEmail.textContent = '';
        }
        });

        // Validación en tiempo real para el campo "Teléfono"
        const telefonoInput = document.getElementById('telefono');
        const errorTelefono = document.getElementById('error-telefono');

        telefonoInput.addEventListener('input', function() {
        const telefonoRegex = /^[0-9]*$/;
        if (!telefonoRegex.test(telefonoInput.value)) {
            errorTelefono.textContent = 'Solo se permiten números.';
        } else if (telefonoInput.value.length > 10) {
            errorTelefono.textContent = 'El teléfono no puede tener más de 10 dígitos.';
        } else {
            errorTelefono.textContent = '';
        }
        });

        // Validación en tiempo real para el campo "Personas"
        const personasInput = document.getElementById('personas');
        const errorPersonas = document.getElementById('error-personas');

        personasInput.addEventListener('input', function() {
        const personasRegex = /^(10|[1-9])$/;
        if (!personasRegex.test(personasInput.value)) {
            errorPersonas.textContent = 'Solo se permiten números y El numero de personas no puede ser más de 10.';
        } else {
            errorPersonas.textContent = '';
        }
        });

        // Validación final antes de enviar el formulario
        document.getElementById('form-reservacion').addEventListener('submit', function(event) {
        if (errorNombre.textContent || errorEmail.textContent || errorTelefono.textContent || errorPersonas.textContent) {
            alert('Por favor, corrige los errores antes de enviar el formulario.');
            event.preventDefault(); // Evita que el formulario se envíe si hay errores
        }
        });
    </script>

</body>
</html>
